<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="manifest" href="/nextjs-blog/manifest.json" />
  <title>Document</title>
  <meta name="title" content="Jordan Air Jordan 1 High OG &quot;UNC Toe&quot; , Authenticity Guaranteed"/>
  <meta property="og:title" content="Jordan Air Jordan 1 High OG &quot;UNC Toe&quot;  | POIZON "/>
  <meta name="description" content="Shop Jordan Air Jordan 1 High OG &quot;UNC Toe&quot;  on POIZON. Authenticity Assured."/>
  <meta property="og:description" content="Fashion marketplace that curates global styles in categories like sneakers, apparel, and accessories. Shop the latest drops and curated items worldwide."/>
  <meta name="keywords" content="Jordan Air Jordan 1 High OG &quot;UNC Toe&quot; "/>
  <meta property="og:keywords" content="Jordan Air Jordan 1 High OG &quot;UNC Toe&quot; "/>
  <meta property="og:image" content="https://cdn-img.poizonapp.com/pro-img/origin-img/20230528/3668ab251062439994e6fb8ccae6d334.png"/>
  <meta property="og:image:width" content="800"/><meta property="og:image:height" content="800"/>
  <meta name="twitter:title" content="Jordan Air Jordan 1 High OG &quot;UNC Toe&quot;  | POIZON "/>
  <meta name="twitter:description" content="Fashion marketplace that curates global styles in categories like sneakers, apparel, and accessories. Shop the latest drops and curated items worldwide."/>
  <meta name="twitter:card" content="image"/>
  <meta name="twitter:image" content="https://cdn-img.poizonapp.com/pro-img/origin-img/20230528/3668ab251062439994e6fb8ccae6d334.png"/>
</head>
<body>
  <script src="//unpkg.com/vconsole@latest/dist/vconsole.min.js"></script>
      <script>
  var vConsole = new window.VConsole();
</script>

<div onclick="sub()">123123</div>
<script>
  let register;
  function base64ToUint8Array (base64String) {
    let padding = '='.repeat((4 - base64String.length % 4) % 4)
    let base64 = (base64String + padding)
      .replace(/\-/g, '+')
      .replace(/_/g, '/')
    let rawData = window.atob(base64)
    let outputArray = new Uint8Array(rawData.length)

    for (let i = 0; i < rawData.length; i++) {
      outputArray[i] = rawData.charCodeAt(i)
    }
    return outputArray
  }

  async function sub() {
    if (typeof Notification === 'undefined') {
        return
      }

      if (Notification.permission === 'default') {
        await Notification.requestPermission();
      }
      if (Notification.permission !== 'granted') {
        return
      }
      register.pushManager.getSubscription().then((subscription) => {
        console.log('subscription get :>> ', subscription);
        if (subscription) {
          console.log('object :>> ', JSON.stringify({
                subscription
              }));
              return
        }
        // subscription && subscription.unsubscribe();
        register.pushManager.subscribe({
          userVisibleOnly: true,
          applicationServerKey: base64ToUint8Array('BKYVdZt87Mwh7SIXPkJm8LkfnganvmPS0OA1WUx42uInbfr5xBan6whKYVBY7g5XFWols2CoygfmhaRIQ2gINp8')
        }).then((subscription) => {
          console.log('sub subscription :>> ', JSON.stringify(subscription));
        }).catch((err) => {
          console.log('sub err :>> ', err.message);
        })
      })
  }
  navigator.serviceWorker.register('/nextjs-blog/sw.js').then(function(reg) {
    register = reg
  })
</script>
</body>
</html>
